<template name="anagraphicArtworkWizard">
  <div id="anagraphicArtworkWizard">
    <div class="col-md-12">
      <ul class="nav nav-pills nav-stacked col-md-3">
        <li class="{{isTabActive 'anagraphicTab'}}"><a class="tab-selector" data-selection="anagraphicTab" data-toggle="tab">Anagrafica</a></li>
        {{#if anagraphicSectionIsValid}}
        <li class="{{isTabActive 'materialTab'}}"><a class="tab-selector" data-selection="materialTab" data-toggle="tab">Materia e Tecnica</a></li>
        <li class="{{isTabActive 'physicsDescTab'}}"><a class="tab-selector" data-selection="physicsDescTab" data-toggle="tab">Descrizione fisica</a></li>
        <li class="{{isTabActive 'environmentTab'}}"><a class="tab-selector" data-selection="environmentTab" data-toggle="tab">Ambiente e conservazione</a></li>
        <li class="{{isTabActive 'attachmentsTab'}}"><a class="tab-selector" data-selection="attachmentsTab" data-toggle="tab">Allegati</a></li>
        <li class="{{isTabActive 'referentsTab'}}"><a class="tab-selector" data-selection="referentsTab" data-toggle="tab">Referenti</a></li>
        <li class="{{isTabActive 'expositionTab'}}"><a class="tab-selector" data-selection="expositionTab" data-toggle="tab">Esposizione</a></li>
        {{/if}}
      </ul>
      <div class="tabbable tabs-left col-md-9">
        <div class="alert alert-warning hidden" role="alert"></div>
        <div class="tab-content">
          <div class="tab-pane {{isTabActive 'anagraphicTab'}}" id="anagraphicTab">
            {{> anagraphicSection}}
          </div>
          <div class="tab-pane {{isTabActive 'materialTab'}}" id="materialTab">
            {{> materialSection}}
          </div>
          <div class="tab-pane {{isTabActive 'physicsDescTab'}}" id="physicsDescTab">
            {{> physicsDescriptionSection}}
          </div>
          <div class="tab-pane {{isTabActive 'environmentTab'}}" id="environmentTab">
            {{> environmentSection}}
          </div>
          <div class="tab-pane {{isTabActive 'attachmentsTab'}}" id="attachmentsTab">
            5
          </div>
          <div class="tab-pane {{isTabActive 'referentsTab'}}" id="referentsTab">
            6
          </div>
          <div class="tab-pane {{isTabActive 'expositionTab'}}" id="expositionTab">
            7
          </div>
        </div>  
      </div>
    </div>
    <ul class="pager wizard col-md-9 pull-right">
      {{#if anagraphicSectionIsValid}}
      {{> deleteArtwork}}
      {{> backToList}}
      <button class="save btn btn-default">Save</button>
      {{else}}
      <button class="back btn">Cancel</button>
      <button class="create btn btn-default">Create artwork</button>
      {{/if}}
    </ul>
  </div>
</template>

<template name="deleteArtwork">
  <button id="deleteArtwork" class="delete btn btn-danger">Delete artwork</button>
</template>

<template name="backToList">
  <button class="back btn">Back to list</button>
</template>

<template name="anagraphicSection">
  <div id="anagraphicSection" class="form-group">
    <div class="form-group field-inventory {{fieldValidity 'inventory'}}">
      <label class="control-label" for="inventoryElem">Inventory {{errMsg 'inventory'}}</label>
      <input type="text" class="form-control" id="inventoryElem" placeholder="Inventory" value="{{inventory}}" data-schemafield="inventory" autofocus maxlength=20>
    </div>
    <div class="form-group field-title {{fieldValidity 'title'}}">
      <label class="control-label" for="titleElem">Title {{errMsg 'title'}}</label>
      <input type="text" class="form-control" id="titleElem" placeholder="Title" value="{{title}}" data-schemafield="title" maxlength=200>
    </div>
    <div class="form-group field-authors {{fieldValidity 'authors'}}">
      <label class="control-label" for="authorsElem">Author(s) {{errMsg 'authors'}}</label>
      <input type="text" class="form-control" id="authorsElem" placeholder="Author" value="{{authors}}" data-schemafield="authors" maxlength=20>
    </div>
    <div class="form-group field-description {{fieldValidity 'description'}}">
      <label class="control-label" for="descriptionElem">Description {{errMsg 'description'}}</label>
      <textarea class="form-control" id="descriptionElem" placeholder="Description..." value="{{description}}" data-schemafield="description" maxlength=200></textarea>
    </div>
    <div class="form-group field-dating {{fieldValidity 'dating'}}">
      <label class="control-label" for="datingElem">Dating {{errMsg 'dating'}}</label>
      <input type="text" class="form-control" id="datingElem" placeholder="Ex. 1893, III sec., First half 1900..." value="{{dating}}" data-schemafield="dating" maxlength=20>
    </div>
    <div class="form-group field-type {{fieldValidity 'type'}}">
      <label class="control-label" for="typeElem">Artwork type {{errMsg 'type'}}</label>
      <select id="typeElem" required autocomplete="off" class="form-control" data-schemafield="type">
        <option {{isSelectedHelper this 'none'}} disabled value="">(Select artwork type)</option>
        {{#each artworkTypes}}
        <option value="{{id}}" {{isSelectedHelper .. id "type"}}>{{name}}</option>
        {{/each}}
      </select>
    </div>
  </div>
</template>

<template name="materialSection">
  <div id="materialSection">
    <div class="form-group">
      <label class="control-label" for="materialElem">Artwork material</label>
      <select id="materialElem" autocomplete="off" class="form-control" data-schemafield="material" autofocus>
        <option {{isSelectedHelper .. "none" "material"}} disabled value="">(Select artwork material)</option>
        {{#each artworkMaterials}}
        <option {{isSelectedHelper .. id "material"}} value="{{id}}">{{name}}</option>
        {{/each}}
      </select>
    </div>
    <div class="form-group">
      <label class="control-label" for="techniqueElem">Artwork technique</label>
      <select id="techniqueElem" autocomplete="off" class="form-control" data-schemafield="technique">
        <option {{isSelectedHelper .. "none" "technique"}} disabled value="">(Select artwork technique)</option>
        {{#each artworkTechniques}}
        <option {{isSelectedHelper .. id "technique"}} value="{{id}}">{{name}}</option>
        {{/each}}
      </select>
    </div>
    {{> accessoriesSection}}
  </div>
</template>

<template name="accessoriesSection">
  <div id="accessorySection">
    <label>Accessories</label>
    {{#each accessories}}
    <div class="checkbox">
      <label>
        <input type="checkbox" value="{{this}}" {{isChecked}}>
        {{this}}
      </label>
    </div>
    {{/each}}
  </div>
</template>

<template name="physicsDescriptionSection">
  <div id="physicsDescriptionSection">
    <div class="tab-content">
      <div> <!-- objects container -->
        <ul class="nav nav-tabs" role="tablist">
          <li class="active"><a href="#main" role="tab" data-toggle="tab">Main</a></li>
          {{#each objects}}
          <li><a href="#{{objname}}Tab" class="object-tab" role="tab" data-toggle="tab">{{objname}}</a></li>
          {{/each}}
          <li>
            <a href="#add" role="tab" data-toggle="tab">
              <span class="glyphicon glyphicon-plus"></span>
            </a>
          </li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="main">
          {{> dimensionsTemplate}}
          </div>
          <div class="tab-pane" id="add">
            <div class="form-group field-objname">
              <label for="objnameElem">Name</label>
              <input type="text" class="form-control" id="objnameElem" placeholder="Object name" value="{{objname}}" data-schemafield="objname" maxlength=10>
            </div>
            {{> dimensionsTemplate}}
            <button class="add btn btn-default">Add object</button>
          </div>
          {{#each objects}}
          <div class="tab-pane object-pane" id="{{objname}}Tab">
            {{> dimensionsTemplate}}
          </div>
          {{/each}}
        </div>
      </div>
      <label>
        <input type="checkbox" value="multiple" {{isChecked}}>
        Opera multipla
      </label>
    </div>
  </div>
</template>

<template name="dimensionsTemplate">
  <div class="dimensionsTemplate">
    <div class="form-group field-height">
      <label for="heightElem">Height</label>
      <input type="text" class="form-control" id="heightElem" placeholder="Height in cm" value="{{height}}" 
        data-schemafield="height" maxlength=10>
    </div>
    <div class="form-group field-length">
      <label for="lengthElem">Length</label>
      <input type="text" class="form-control" id="lengthElem" placeholder="Length in cm" value="{{length}}" data-schemafield="length" maxlength=10>
    </div>
    <div class="form-group field-depth">
      <label for="depthElem">Depth</label>
      <input type="text" class="form-control" id="depthElem" placeholder="Depth in cm" value="{{depth}}" data-schemafield="depth" maxlength=10>
    </div>
  </div>
</template>

<template name="environmentSection">
  <div id="environmentSection">
    <div class="form-group field-site">
      <label for="siteElem">Site</label>
      <input type="text" class="form-control" id="siteElem" placeholder="Site" value="{{site}}" data-schemafield="site" maxlength=20>
    </div>
    <div class="form-group field-city">
      <label for="cityElem">City</label>
      <input type="text" class="form-control" id="cityElem" placeholder="City" value="{{city}}" data-schemafield="city" maxlength=20>
    </div>
    <div class="checkbox">
      <label>
        <input id="UVPElem" type="checkbox" value="UVP" data-schemafield="UVP" {{isChecked ..}}>
        UV protection
      </label>
    </div>
    <div class="form-group field-rh">
      <label for="RHElem">Relative humidity</label>
      <input type="text" class="form-control" id="RHElem" placeholder="Relative humidity" value="{{RH}}" data-schemafield="RH" maxlength=20>
    </div>
    <div class="form-group field-temperature">
      <label for="temperatureElem">Temperature</label>
      <input type="text" class="form-control" id="temperatureElem" placeholder="Temperature" value="{{temperature}}" data-schemafield="temperature" maxlength=20>
    </div>
    <div class="form-group field-lux">
      <label for="luxElem">Lux</label>
      <input type="text" class="form-control" id="luxElem" placeholder="Lux" value="{{lux}}" data-schemafield="lux" maxlength=20>
    </div>
    <div class="form-group field-amo">
      <label for="AMOElem">Adesione Microbica Oraria</label>
      <input type="text" class="form-control" id="AMOElem" placeholder="AMO" value="{{AMO}}" data-schemafield="AMO" maxlength=20>
    </div>
  </div>
</template>